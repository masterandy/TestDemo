/**
 * Class for test httpcallout.
 * @author      ZhouXiong
 */

global with sharing class CSC_App_EntitlementTest_Mock3 implements HTTPCalloutMock{

    global HttpResponse respond(HTTPRequest req){

    	String entitlmentXml = '';
		entitlmentXml = '<EsReply><EsHeader><InputRequest><Operation>getEntitlementBySn</Operation><EntitlementBySnRequest><DataEntrySite></DataEntrySite><SourceCustomerID></SourceCustomerID><RedAccessID></RedAccessID><ActiveContractsOnly>false</ActiveContractsOnly><ActiveServicesOnly>false</ActiveServicesOnly><IncludeAddresses>true</IncludeAddresses><IncludeContacts>true</IncludeContacts><IncludeOffers>true</IncludeOffers><IncludeDeliverables>true</IncludeDeliverables><IncludeModifiers>true</IncludeModifiers><IncludeWorkings>false</IncludeWorkings><EntitlementCheckDate>2016-03-21</EntitlementCheckDate><IsoCountryCd>CN</IsoCountryCd><includeManufacturerInfo>false</includeManufacturerInfo><ActiveWarrantyOnly>false</ActiveWarrantyOnly><ServiceID></ServiceID><ConsumerBusinessLogicNeeded>false</ConsumerBusinessLogicNeeded><ContractIdentifier></ContractIdentifier><IncludeWarranty>true</IncludeWarranty><IncludeContracts>true</IncludeContracts><IncludeServiceNotes>false</IncludeServiceNotes>' +
'<WarrantySourceSystem>ALL</WarrantySourceSystem><SerialNumber>6CU4266703</SerialNumber><ProductID>QR482A</ProductID><IncludeCATS>true</IncludeCATS><IncludePartLevelWarranty>true</IncludePartLevelWarranty><includeCustomerIdentificationInformation>false</includeCustomerIdentificationInformation></EntitlementBySnRequest></InputRequest><TransactionID>6832572259</TransactionID>' +
'<Warnings><EIAError><ErrorID>E2000</ErrorID><ErrorText>test error</ErrorText></EIAError></Warnings></EsHeader>' + 
'<WarrantyEntitlement><ActiveWarrantyEntitlement>true</ActiveWarrantyEntitlement><OverallWarrantyStartDate>2014-08-18</OverallWarrantyStartDate><OverallWarrantyEndDate>2017-08-17</OverallWarrantyEndDate><ActiveContractEntitlement>true</ActiveContractEntitlement><OverallContractStartDate>2014-08-25</OverallContractStartDate><OverallContractEndDate>2017-08-24</OverallContractEndDate>' +
'<OOS id="ID_1832907_2" WarrantyShipToCustomerRef="ID_1832907_1"><OOSKey>863517687</OOSKey><OOSType>HW</OOSType><SerialNumber>6CU4266703</SerialNumber><SalesOrderNumber>F4XZ68326001</SalesOrderNumber><ShipToCountry>CN</ShipToCountry><ShipFromCountry>CN</ShipFromCountry><OMSystemDesc>Fusion Asia Pacific - DELVRY03</OMSystemDesc><SalesChannel>IP</SalesChannel><WarrantyShipToCustomerID>W-00000863517687</WarrantyShipToCustomerID><Product><ProductID>QR482A</ProductID><ProductDescription>HP 3PAR StoreServ 7200 2-N Storage Base</ProductDescription><ProductLineCode>4A</ProductLineCode><ProductLineDescription>3PAR Mid Range HW</ProductLineDescription></Product><Part><PartNumber>01987345</PartNumber><PartDescription>mnoot</PartDescription></Part><PartList><PartNumber>1</PartNumber><PartDescription>2</PartDescription><PartSerialNumber>34</PartSerialNumber><partWarrantyStartDate>2018-12-23</partWarrantyStartDate><PartWarrantyEndDate>2075-02-08</PartWarrantyEndDate></PartList></OOS>' +
'<Warranty><WarrantyType>FR</WarrantyType><TermCode>A133</TermCode><PortfolioFlag>G</PortfolioFlag><WarrantyDeterminationCode>21</WarrantyDeterminationCode><WarrantyDeterminationDescription>Install Date</WarrantyDeterminationDescription><WarrantyStartDate>2014-08-18</WarrantyStartDate><GracePeriod>0</GracePeriod><Global>true</Global><InstallationIncluded>false</InstallationIncluded><SitePreparation>false</SitePreparation><WarrantyExtension>0</WarrantyExtension><Offer id="ID_1832907_3"><OfferCode>HA151AW</OfferCode><OfferDescription>Wty: HPE HW Maintenance Onsite Support</OfferDescription><Modifier><ModName>WTY_HWMON_GEOGRAPHIC_COVERAGE</ModName><ModValue>GLB</ModValue><ModDesc>Global Coverage</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_DEL_RESP_METH_REMOTE</ModName><ModValue>NA</ModValue><ModDesc>NextAvail TechResource Remote</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_DEL_RESP_METH_ONSITE</ModName><ModValue>NA</ModValue><ModDesc>NextAvail TechResource Onsite</ModDesc></Modifier><Modifier><ModName>COV_WINDOW5</ModName><ModValue>STD</ModValue><ModDesc>Std Office Hrs Std Office Days</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_MATERIAL_HANDLING</ModName><ModValue>STD</ModValue><ModDesc>Standard Material Handling</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_USAGE_LIMITATIONS</ModName><ModValue>NL</ModValue><ModDesc>No Usage Limitation</ModDesc></Modifier><Modifier><ModName>RESPONSE_TIME</ModName><ModValue>NCD</ModValue><ModDesc>Next Cov Day Onsite Response</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_PARTS_LOGISTICS</ModName><ModValue>STD</ModValue><ModDesc>Standard Parts Logistics</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_REMOTE_RESPONSE_TIME</ModName><ModValue>REM4</ModValue><ModDesc>Remote Response within 4 Hours</ModDesc></Modifier><Modifier><ModName>WTY_HWMON_REMOTE_DEL_WINDOW</ModName><ModValue>24</ModValue><ModDesc>24hr, Days 1-7</ModDesc></Modifier>' +
'<Deliverable><DelivCode>WTY_HWMON_MATERIAL</DelivCode><DelivName>Parts and Material provided</DelivName><DelivValue>Y</DelivValue><DelivModifier><ModName>COV_WINDOW6D</ModName><ModValue>24</ModValue><ModDesc>24 hrs, Day 6</ModDesc></DelivModifier></Deliverable><Deliverable><DelivCode>WTY_HWMON_ONSITE_SUPPORT</DelivCode><DelivName>Onsite Support</DelivName><DelivValue>Y</DelivValue><DelivModifier><ModName>COV_WINDOW7D</ModName><ModValue>16</ModValue><ModDesc>12 hrs, Day 6</ModDesc></DelivModifier></Deliverable>' +
'<Deliverable><DelivCode>WTY_HWMON_PROBLEM_DIAGNOSIS</DelivCode><DelivName>Hardware Problem Diagnosis</DelivName><DelivValue>Y</DelivValue><DelivModifier><ModName>COV_WINDOW8D</ModName><ModValue>18</ModValue><ModDesc>19 hrs, Day 6</ModDesc></DelivModifier></Deliverable><AppliesTo OOSRef="ID_1832907_2"><StartDate>2014-08-18</StartDate><EndDate>2017-08-17</EndDate><Status>A</Status><ActiveAppliesTo>true</ActiveAppliesTo><OOSKey>863517687</OOSKey></AppliesTo></Offer><Offer id="ID_1832907_4"><OfferCode>HA158AW</OfferCode><OfferDescription>Wty: HPE Support for Initial Setup</OfferDescription><Modifier><ModName>WTY_STS_UNL_DELRESP_REMOTE</ModName><ModValue>NA</ModValue><ModDesc>NextAvail TechResource Remote</ModDesc></Modifier><Modifier><ModName>COV_WINDOW5</ModName><ModValue>STD</ModValue><ModDesc>Std Office Hrs Std Office Days</ModDesc></Modifier><Modifier><ModName>WTY_STS_UNL_NAMED_CALLERS</ModName><ModValue>UNL</ModValue><ModDesc>Unlimited Named Callers</ModDesc></Modifier><Modifier><ModName>RESPONSE_TIME</ModName><ModValue>2HR</ModValue><ModDesc>2 Hr Remote Response</ModDesc></Modifier><Deliverable><DelivCode>WTY_STS_UNL_PHONE_SPT</DelivCode><DelivName>Initial Setup Assistance</DelivName><DelivValue>Y</DelivValue></Deliverable><AppliesTo OOSRef="ID_1832907_2"><StartDate>2014-08-18</StartDate><EndDate>2014-11-15</EndDate><Status>X</Status><ActiveAppliesTo>false</ActiveAppliesTo><OOSKey>863517687</OOSKey></AppliesTo></Offer></Warranty>' +
//'<Contract SystemMgrPersonRef="ID_1832911_7"><PortfolioFlag>G</PortfolioFlag><CCRN>0630506290</CCRN><SvcAgreementID>106305062933</SvcAgreementID><DataEntrySite>F400</DataEntrySite><ActiveContractEntitlement>true</ActiveContractEntitlement><HeaderStartDate>2014-08-25</HeaderStartDate></Contract>' +
'<ServiceNote><ServiceNoteNumber>087307456</ServiceNoteNumber><ServiceNoteObjective>test</ServiceNoteObjective><ServiceNoteDescription>desr</ServiceNoteDescription><RecommendedAction>mang</RecommendedAction></ServiceNote>' + 
'<Location id="ID_1832911_8"><SourceCustomerID>0110466542</SourceCustomerID><SiteBusinessName1>黑龙江大学</SiteBusinessName1><FmtAddrLine1>黑龙江大学</FmtAddrLine1><FmtAddrLine2>HEILONGJIANG 哈尔滨 HEI LONG JIAN</FmtAddrLine2><FmtAddrLine3>学府路74号</FmtAddrLine3><FmtAddrLine4>/</FmtAddrLine4><FmtAddrLine5>150080</FmtAddrLine5><StreetAddr1>学府路74号</StreetAddr1><City>哈尔滨</City><GeographicArea>090</GeographicArea><PostalCode>150080</PostalCode><IsoCountryCd>CN</IsoCountryCd></Location><Location id="ID_1832911_9"><SourceCustomerID>0043830057</SourceCustomerID><SiteBusinessName1>黑龙江大学</SiteBusinessName1><FmtAddrLine1>黑龙江大学</FmtAddrLine1><FmtAddrLine2>黑龙江省 哈尔滨市</FmtAddrLine2><FmtAddrLine3>学府路74号</FmtAddrLine3><FmtAddrLine4>150080</FmtAddrLine4><StreetAddr1>学府路74号</StreetAddr1><City>黑龙江-哈尔滨</City><GeographicArea>Heilongjiang</GeographicArea><PostalCode>150080</PostalCode><IsoCountryCd>China</IsoCountryCd></Location><Location id="ID_1832907_1"><SourceCustomerID>W-00000863517687</SourceCustomerID><SiteBusinessName1>HEILONGJIANG UNIVERSITY</SiteBusinessName1><SiteBusinessName2>contact:Tan, Jun</SiteBusinessName2><SiteBusinessName4>NAN GANG NO 74 XUEFU ROAD</SiteBusinessName4><FmtAddrLine1>HEILONGJIANG UNIVERSITY</FmtAddrLine1><FmtAddrLine2>contact:Tan, Jun</FmtAddrLine2><FmtAddrLine3>HA ER BIN</FmtAddrLine3><FmtAddrLine4>HEI LONG JIAN</FmtAddrLine4><FmtAddrLine5>NAN GANG NO 74 XUEFU ROAD</FmtAddrLine5><StreetAddr1>HEI LONG JIAN</StreetAddr1><City>HA ER BIN</City><PostalCode>150080</PostalCode><IsoCountryCd>CN</IsoCountryCd></Location><Contact id="ID_1832911_1"><SourcePersonID>0000103872</SourcePersonID><FullName>SY Region Tao Yong  </FullName></Contact><Contact id="ID_1832911_2"><SourcePersonID>HPSRF4HPSV</SourcePersonID><FullName>HPS GENERIC   </FullName></Contact><Contact id="ID_1832911_3"><SourcePersonID>0000106764</SourcePersonID><FullName>NOT ASSIGNED   </FullName></Contact><Contact id="ID_1832911_4"><SourcePersonID>0000107692</SourcePersonID><FullName>PS-教育   </FullName></Contact><Contact id="ID_1832911_5"><SourcePersonID>0000108420</SourcePersonID><FullName>N/A   </FullName></Contact><Contact id="ID_1832911_6"><SourcePersonID>0002769899</SourcePersonID><FullName>林峰</FullName><PhoneNumber>+8613303606526</PhoneNumber><EmailAddress>linfeng@gmail.com</EmailAddress></Contact><Contact id="ID_1832911_7"><SourcePersonID>ENAPJCNCOE</SourcePersonID><FullName>APJCNCOE</FullName><PhoneNumber>+86861069904634</PhoneNumber><EmailAddress>apj-CN.supportcontracts@h3c.com</EmailAddress></Contact>' +
//'<CustomerIdentification><EndCustomerAMIDL2Identifier>567</EndCustomerAMIDL2Identifier><EndCustomerAMIDL2AccountSegment><AccountSegmentOwnerCode>6674</AccountSegmentOwnerCode><AccountSegmentCode></AccountSegmentCode></EndCustomerAMIDL2AccountSegment></CustomerIdentification>' +

'</WarrantyEntitlement></EsReply>';

        HttpResponse res = new HTTPResponse();
        res.setHeader('Content-Type', 'text/plain');
        req.setClientCertificateName('client');
        res.setBody(entitlmentXml);
        res.setStatusCode(200);
        res.setStatus('OK');
        return res;
    }
}